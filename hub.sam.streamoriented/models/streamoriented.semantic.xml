<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.omg.org/XSI" xmlns:mas="http://www.foo.org/mas" xmi:version="2.1">
  <mas:Activity xmi:id="10786" linkId="mas-id--737254502">
    <edge xmi:id="10787" activity="10786" target="10788" source="10797" xsi:type="ControlFlow">
      <guardSpecification xmi:id="10804" body="true" xsi:type="GuardSpecification" />
    </edge>
    <edge xmi:id="10791" activity="10786" target="10792" source="10788" xsi:type="ControlFlow" />
    <edge xmi:id="10802" activity="10786" target="10803" source="10792" xsi:type="ControlFlow" />
    <edge xmi:id="10796" activity="10786" target="10792" source="10797" xsi:type="ControlFlow">
      <guardSpecification xmi:id="10801" body="false" xsi:type="GuardSpecification" />
    </edge>
    <edge xmi:id="10798" activity="10786" target="10797" source="10799" xsi:type="ControlFlow" />
    <node xmi:id="10788" activityAsNode="10786" initialTokesn="0" outgoing="10791" rectangle="rO0ABXNyACVvcmcuZWNsaXBzZS5kcmF3MmQuZ2VvbWV0cnkuUmVjdGFuZ2xlAAAAAAAAAAECAARJ&#xA;AAZoZWlnaHRJAAV3aWR0aEkAAXhJAAF5eHD/////AAAAZAAAAEoAAADS&#xA;" actionBody="values:0" actionKind="remove_structural_feature_value" incoming="10787" margin="8" xsi:type="OpaqueAction">
      <inputList xmi:id="10789" action="10788" xsi:type="InputPinList" />
      <outputList xmi:id="10790" action="10788" xsi:type="OutputPinList" />
    </node>
    <node xmi:id="10792" activityAsNode="10786" initialTokesn="0" outgoing="10802" rectangle="rO0ABXNyACVvcmcuZWNsaXBzZS5kcmF3MmQuZ2VvbWV0cnkuUmVjdGFuZ2xlAAAAAAAAAAECAARJ&#xA;AAZoZWlnaHRJAAV3aWR0aEkAAXhJAAF5eHD/////AAAAZAAAAK0AAAEd&#xA;" actionBody="values" actionKind="write_structural_feature_value" incoming="10796 10791" margin="8" xsi:type="OpaqueAction">
      <input xmi:id="10795" num="0" initialTokesn="0" valueExpression="value" xsi:type="InputPin" />
      <inputList xmi:id="10793" action="10792" xsi:type="InputPinList" />
      <outputList xmi:id="10794" action="10792" xsi:type="OutputPinList" />
    </node>
    <node xmi:id="10803" activityAsNode="10786" initialTokesn="0" rectangle="rO0ABXNyACVvcmcuZWNsaXBzZS5kcmF3MmQuZ2VvbWV0cnkuUmVjdGFuZ2xlAAAAAAAAAAECAARJ&#xA;AAZoZWlnaHRJAAV3aWR0aEkAAXhJAAF5eHD//////////wAAANYAAAGF&#xA;" incoming="10802" xsi:type="FinalNode" />
    <node xmi:id="10797" activityAsNode="10786" initialTokesn="0" outgoing="10787 10796" rectangle="rO0ABXNyACVvcmcuZWNsaXBzZS5kcmF3MmQuZ2VvbWV0cnkuUmVjdGFuZ2xlAAAAAAAAAAECAARJ&#xA;AAZoZWlnaHRJAAV3aWR0aEkAAXhJAAF5eHAAAAA+AAAAZwAAAI8AAAB7&#xA;" incoming="10798" body="values-&gt;size() = time" xsi:type="DecisionNode">
      <contextList xmi:id="10800" decisionNode="10797" xsi:type="ContextPinList" />
    </node>
    <node xmi:id="10799" activityAsNode="10786" initialTokesn="0" outgoing="10798" rectangle="rO0ABXNyACVvcmcuZWNsaXBzZS5kcmF3MmQuZ2VvbWV0cnkuUmVjdGFuZ2xlAAAAAAAAAAECAARJ&#xA;AAZoZWlnaHRJAAV3aWR0aEkAAXhJAAF5eHD//////////wAAALoAAABD&#xA;" xsi:type="InitialNode" />
  </mas:Activity>
  <mas:Activity xmi:id="10718" linkId="mas-id--1482076975">
    <edge xmi:id="10719" activity="10718" target="10720" source="10785" xsi:type="ControlFlow" />
    <edge xmi:id="10762" activity="10718" target="10759" source="10720" xsi:type="ControlFlow">
      <guardSpecification xmi:id="10763" body="true" xsi:type="GuardSpecification" />
    </edge>
    <edge xmi:id="10752" activity="10718" target="10753" source="10751" xsi:type="ObjectFlow" />
    <edge xmi:id="10758" activity="10718" target="10746" source="10754" xsi:type="ControlFlow" />
    <edge xmi:id="10750" activity="10718" target="10749" source="10751" xsi:type="ObjectFlow" />
    <edge xmi:id="10745" activity="10718" target="10742" source="10746" xsi:type="ControlFlow" />
    <edge xmi:id="10733" activity="10718" target="10732" source="10734" xsi:type="ObjectFlow" />
    <edge xmi:id="10728" activity="10718" target="10723" source="10729" xsi:type="ControlFlow" />
    <edge xmi:id="10764" activity="10718" target="10765" source="10723" xsi:type="ControlFlow" />
    <edge xmi:id="10770" activity="10718" target="10771" source="10765" xsi:type="ControlFlow" />
    <edge xmi:id="10781" activity="10718" target="10776" source="10771" xsi:type="ControlFlow">
      <guardSpecification xmi:id="10782" body="true" xsi:type="GuardSpecification" />
    </edge>
    <edge xmi:id="10775" activity="10718" target="10774" source="10776" xsi:type="ControlFlow" />
    <edge xmi:id="10773" activity="10718" target="10774" source="10771" xsi:type="ControlFlow">
      <guardSpecification xmi:id="10783" body="false" xsi:type="GuardSpecification" />
    </edge>
    <edge xmi:id="10722" activity="10718" target="10723" source="10720" xsi:type="ControlFlow">
      <guardSpecification xmi:id="10784" body="false" xsi:type="GuardSpecification" />
    </edge>
    <edge xmi:id="10741" activity="10718" target="10729" source="10737" xsi:type="ControlFlow" />
    <edge xmi:id="10735" activity="10718" target="10736" source="10734" xsi:type="ObjectFlow" />
    <node xmi:id="10720" activityAsNode="10718" initialTokesn="0" outgoing="10722 10762" rectangle="rO0ABXNyACVvcmcuZWNsaXBzZS5kcmF3MmQuZ2VvbWV0cnkuUmVjdGFuZ2xlAAAAAAAAAAECAARJ&#xA;AAZoZWlnaHRJAAV3aWR0aEkAAXhJAAF5eHD/////AAAA1AAAAGYAAABh&#xA;" comment="check if moving averages need to be initialised" incoming="10719" body="sta.oclIsUndefined() or lta.oclIsUndefined()" xsi:type="DecisionNode">
      <contextList xmi:id="10721" decisionNode="10720" xsi:type="ContextPinList" />
    </node>
    <node xmi:id="10759" activityAsNode="10718" initialTokesn="0" rectangle="rO0ABXNyACVvcmcuZWNsaXBzZS5kcmF3MmQuZ2VvbWV0cnkuUmVjdGFuZ2xlAAAAAAAAAAECAARJ&#xA;AAZoZWlnaHRJAAV3aWR0aEkAAXhJAAF5eHAAAAAkAAAAiQAAAIwAAADb&#xA;" actionBody="MovingAverage" actionKind="create_object" incoming="10762" margin="8" xsi:type="OpaqueAction">
      <inputList xmi:id="10760" action="10759" xsi:type="InputPinList" />
      <output xmi:id="10751" num="0" outgoing="10750 10752" xsi:type="OutputPin" />
      <outputList xmi:id="10761" action="10759" xsi:type="OutputPinList" />
    </node>
    <node xmi:id="10754" activityAsNode="10718" initialTokesn="0" outgoing="10758" rectangle="rO0ABXNyACVvcmcuZWNsaXBzZS5kcmF3MmQuZ2VvbWV0cnkuUmVjdGFuZ2xlAAAAAAAAAAECAARJ&#xA;AAZoZWlnaHRJAAV3aWR0aEkAAXhJAAF5eHD/////AAAAZAAAAF8AAAEf&#xA;" actionBody="time" actionKind="write_structural_feature" margin="8" xsi:type="OpaqueAction">
      <input xmi:id="10753" num="0" initialTokesn="0" incoming="10752" xsi:type="ContextPin" />
      <input xmi:id="10757" num="1" initialTokesn="0" valueExpression="staTime" xsi:type="InputPin" />
      <inputList xmi:id="10755" action="10754" xsi:type="InputPinList" />
      <outputList xmi:id="10756" action="10754" xsi:type="OutputPinList" />
    </node>
    <node xmi:id="10746" activityAsNode="10718" initialTokesn="0" outgoing="10745" rectangle="rO0ABXNyACVvcmcuZWNsaXBzZS5kcmF3MmQuZ2VvbWV0cnkuUmVjdGFuZ2xlAAAAAAAAAAECAARJ&#xA;AAZoZWlnaHRJAAV3aWR0aEkAAXhJAAF5eHD/////AAAAZAAAAOgAAAEe&#xA;" actionBody="sta" actionKind="write_structural_feature" incoming="10758" margin="8" xsi:type="OpaqueAction">
      <input xmi:id="10749" num="0" initialTokesn="0" incoming="10750" xsi:type="InputPin" />
      <inputList xmi:id="10747" action="10746" xsi:type="InputPinList" />
      <outputList xmi:id="10748" action="10746" xsi:type="OutputPinList" />
    </node>
    <node xmi:id="10742" activityAsNode="10718" initialTokesn="0" rectangle="rO0ABXNyACVvcmcuZWNsaXBzZS5kcmF3MmQuZ2VvbWV0cnkuUmVjdGFuZ2xlAAAAAAAAAAECAARJ&#xA;AAZoZWlnaHRJAAV3aWR0aEkAAXhJAAF5eHD/////AAAAfgAAAJEAAAGF&#xA;" actionBody="MovingAverage" actionKind="create_object" incoming="10745" margin="8" xsi:type="OpaqueAction">
      <inputList xmi:id="10743" action="10742" xsi:type="InputPinList" />
      <output xmi:id="10734" num="0" outgoing="10735 10733" xsi:type="OutputPin" />
      <outputList xmi:id="10744" action="10742" xsi:type="OutputPinList" />
    </node>
    <node xmi:id="10729" activityAsNode="10718" initialTokesn="0" outgoing="10728" rectangle="rO0ABXNyACVvcmcuZWNsaXBzZS5kcmF3MmQuZ2VvbWV0cnkuUmVjdGFuZ2xlAAAAAAAAAAECAARJ&#xA;AAZoZWlnaHRJAAV3aWR0aEkAAXhJAAF5eHD/////AAAAZAAAAO0AAAHL&#xA;" actionBody="lta" actionKind="write_structural_feature" incoming="10741" margin="8" xsi:type="OpaqueAction">
      <input xmi:id="10732" num="0" initialTokesn="0" incoming="10733" xsi:type="InputPin" />
      <inputList xmi:id="10730" action="10729" xsi:type="InputPinList" />
      <outputList xmi:id="10731" action="10729" xsi:type="OutputPinList" />
    </node>
    <node xmi:id="10723" activityAsNode="10718" initialTokesn="0" outgoing="10764" rectangle="rO0ABXNyACVvcmcuZWNsaXBzZS5kcmF3MmQuZ2VvbWV0cnkuUmVjdGFuZ2xlAAAAAAAAAAECAARJ&#xA;AAZoZWlnaHRJAAV3aWR0aEkAAXhJAAF5eHD/////AAAAZAAAAiYAAABJ&#xA;" actionBody="move" actionKind="call" comment="put the new value into the moving averages" incoming="10722 10728" margin="8" xsi:type="OpaqueAction">
      <input xmi:id="10726" num="0" initialTokesn="0" valueExpression="sta" xsi:type="ContextPin" />
      <input xmi:id="10727" num="1" initialTokesn="0" valueExpression="value" xsi:type="InputPin" />
      <inputList xmi:id="10724" action="10723" xsi:type="InputPinList" />
      <outputList xmi:id="10725" action="10723" xsi:type="OutputPinList" />
    </node>
    <node xmi:id="10765" activityAsNode="10718" initialTokesn="0" outgoing="10770" rectangle="rO0ABXNyACVvcmcuZWNsaXBzZS5kcmF3MmQuZ2VvbWV0cnkuUmVjdGFuZ2xlAAAAAAAAAAECAARJ&#xA;AAZoZWlnaHRJAAV3aWR0aEkAAXhJAAF5eHD/////AAAAZAAAAiYAAADY&#xA;" actionBody="move" actionKind="call" incoming="10764" margin="8" xsi:type="OpaqueAction">
      <input xmi:id="10768" num="0" initialTokesn="0" valueExpression="lta" xsi:type="ContextPin" />
      <input xmi:id="10769" num="1" initialTokesn="0" valueExpression="value" xsi:type="InputPin" />
      <inputList xmi:id="10766" action="10765" xsi:type="InputPinList" />
      <outputList xmi:id="10767" action="10765" xsi:type="OutputPinList" />
    </node>
    <node xmi:id="10771" activityAsNode="10718" initialTokesn="0" outgoing="10773 10781" rectangle="rO0ABXNyACVvcmcuZWNsaXBzZS5kcmF3MmQuZ2VvbWV0cnkuUmVjdGFuZ2xlAAAAAAAAAAECAARJ&#xA;AAZoZWlnaHRJAAV3aWR0aEkAAXhJAAF5eHD/////AAABBwAAAdQAAAE8&#xA;" comment="check the sta lta condition" incoming="10770" body="(sta.getCurrentAvr() / lta.getCurrentAvr()).round() &gt; 4" xsi:type="DecisionNode">
      <contextList xmi:id="10772" decisionNode="10771" xsi:type="ContextPinList" />
    </node>
    <node xmi:id="10776" activityAsNode="10718" initialTokesn="0" outgoing="10775" rectangle="rO0ABXNyACVvcmcuZWNsaXBzZS5kcmF3MmQuZ2VvbWV0cnkuUmVjdGFuZ2xlAAAAAAAAAAECAARJ&#xA;AAZoZWlnaHRJAAV3aWR0aEkAAXhJAAF5eHD/////AAAAZAAAAekAAAHM&#xA;" actionBody="consume" actionKind="call" comment="emmit an object" incoming="10781" margin="8" xsi:type="OpaqueAction">
      <input xmi:id="10779" num="0" initialTokesn="0" valueExpression="sink" xsi:type="ContextPin" />
      <input xmi:id="10780" num="1" initialTokesn="0" valueExpression="'earthquake'" xsi:type="InputPin" />
      <inputList xmi:id="10777" action="10776" xsi:type="InputPinList" />
      <outputList xmi:id="10778" action="10776" xsi:type="OutputPinList" />
    </node>
    <node xmi:id="10774" activityAsNode="10718" initialTokesn="0" rectangle="rO0ABXNyACVvcmcuZWNsaXBzZS5kcmF3MmQuZ2VvbWV0cnkuUmVjdGFuZ2xlAAAAAAAAAAECAARJ&#xA;AAZoZWlnaHRJAAV3aWR0aEkAAXhJAAF5eHD//////////wAAAq4AAAH0&#xA;" incoming="10773 10775" xsi:type="FinalNode" />
    <node xmi:id="10737" activityAsNode="10718" initialTokesn="0" outgoing="10741" rectangle="rO0ABXNyACVvcmcuZWNsaXBzZS5kcmF3MmQuZ2VvbWV0cnkuUmVjdGFuZ2xlAAAAAAAAAAECAARJ&#xA;AAZoZWlnaHRJAAV3aWR0aEkAAXhJAAF5eHD/////AAAAZAAAAFcAAAHK&#xA;" actionBody="time" actionKind="write_structural_feature" margin="8" xsi:type="OpaqueAction">
      <input xmi:id="10736" num="0" initialTokesn="0" incoming="10735" xsi:type="ContextPin" />
      <input xmi:id="10740" num="1" initialTokesn="0" valueExpression="ltaTime" xsi:type="InputPin" />
      <inputList xmi:id="10738" action="10737" xsi:type="InputPinList" />
      <outputList xmi:id="10739" action="10737" xsi:type="OutputPinList" />
    </node>
    <node xmi:id="10785" activityAsNode="10718" initialTokesn="0" outgoing="10719" rectangle="rO0ABXNyACVvcmcuZWNsaXBzZS5kcmF3MmQuZ2VvbWV0cnkuUmVjdGFuZ2xlAAAAAAAAAAECAARJ&#xA;AAZoZWlnaHRJAAV3aWR0aEkAAXhJAAF5eHD//////////wAAAMcAAAAv&#xA;" xsi:type="InitialNode" />
  </mas:Activity>
</xmi:XMI>

